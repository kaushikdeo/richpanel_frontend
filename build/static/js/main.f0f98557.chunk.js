(this.webpackJsonprichpanel3000=this.webpackJsonprichpanel3000||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(53),l=n.n(r),c=(n(50),n(23)),s=n(24),o=n(27),m=n(26),d=n(44),u=n.n(d),p=n(49),h=n(54),f=n(109),g=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleSignInClick=function(){window.open("https://richpaneldash.herokuapp.com/auth/twitter","_self")},e}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"background-6"}),i.a.createElement("div",null,i.a.createElement("div",{className:"LoginFT mds-3"},i.a.createElement("img",{id:"Avimg",className:"Avatar mds-2",src:"https://pbs.twimg.com/profile_images/697353822163898368/nOFnWPhe.png"}),i.a.createElement("div",{className:"Content"},i.a.createElement(f.a,{onClick:this.handleSignInClick,style:{flex:1,width:"100%",alignItems:"center",marginTop:100},as:"input",value:"Login With Twitter"})," "))),i.a.createElement("div",{className:"Subtitle"},i.a.createElement("p",{style:{marginBottom:7}},"Kaushik M. Deo")),i.a.createElement("div",{id:"fp-nmp",className:"NMP nv mds-2"},i.a.createElement("p",{className:"nmpt"},"This is not my problem."),i.a.createElement("a",{id:"fp-npm-btn",className:"btn fnb "},"Ok :(")))}}]),n}(a.Component),y=n(25),v=n(18),E=n(20);function w(){var e=Object(E.a)(["\n  query fetchCurrentMentions{\n    fetchCurrentMentions{\n    _id\n    mentionID\n    mentionText\n    tweetImages\n    timeStamp\n    tasks{\n      _id\n      taskText\n      createdAt\n      endDate\n    }\n    userData{\n      twitterUserId\n      mentionFromScreenName\n      description\n      profileImage\n      location\n    }\n    replies{\n      _id\n      mentionID\n      mentionText\n      tweetImages\n      timeStamp\n      userData{\n        twitterUserId\n        mentionFromScreenName\n        description\n        profileImage\n        location\n      }\n    }\n  }\n}"]);return w=function(){return e},e}function b(){var e=Object(E.a)(["\n  query greetings{\n    greetings\n}"]);return b=function(){return e},e}var x=n(39),k=x(b()),_=x(w()),N=n(36),I=n(21),j=n(56),S=n.n(j),T=n(57),C=n.n(T),O=n(58),M=n.n(O),D=n(59),A=n.n(D),R=n(60),z=n.n(R),L=n(61),F=n.n(L),$=n(62),B=n.n($),U=n(63),W=n.n(U),H=n(64),q=n.n(H),K=function(e){var t=e.handleLogoutClick;return i.a.createElement("div",{style:{background:"#f7f7f7",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"}},i.a.createElement("ul",{className:"nav flex-column",style:{paddingLeft:0,paddingRight:0}},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link active",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:25,width:30,marginTop:5,marginBottom:25}},i.a.createElement("img",{onClick:t,src:C.a,alt:"",style:{height:"100%",width:"100%"}})))),i.a.createElement("li",{className:"nav-item custom-nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link active",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:20,width:20}},i.a.createElement("img",{src:q.a,alt:"",style:{height:"100%",width:"100%"}})))),i.a.createElement("li",{className:"nav-item custom-nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link active",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:20,width:20}},i.a.createElement("img",{src:M.a,alt:"",style:{height:"100%",width:"100%"}})))),i.a.createElement("li",{className:"nav-item custom-nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:20,width:20}},i.a.createElement("img",{src:A.a,alt:"",style:{height:"100%",width:"100%"}})))),i.a.createElement("li",{className:"nav-item custom-nav-item active-nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:20,width:20}},i.a.createElement("img",{src:z.a,alt:"",style:{height:"100%",width:"100%"}})))),i.a.createElement("li",{className:"nav-item custom-nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:20,width:20}},i.a.createElement("img",{src:F.a,alt:"",style:{height:"100%",width:"100%"}})))),i.a.createElement("li",{className:"nav-item custom-nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:20,width:20}},i.a.createElement("img",{src:B.a,alt:"",style:{height:"100%",width:"100%"}}))))),i.a.createElement("ul",{className:"nav flex-column",style:{paddingLeft:0,paddingRight:0,paddingBottom:20}},i.a.createElement("li",{className:"nav-item custom-nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:20,width:20}},i.a.createElement("img",{src:W.a,alt:"",style:{height:"100%",width:"100%"}})))),i.a.createElement("li",{className:"nav-item",style:{marginTop:15}},i.a.createElement("a",{className:"nav-link",style:{display:"flex",justifyContent:"center",alignItems:"center"},href:"#"},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:35,width:35,borderRadius:"10rem",overflow:"hidden"}},i.a.createElement("img",{src:S.a,alt:"",style:{height:"100%",width:"100%"}}))))))},J=function(){return i.a.createElement("div",{className:"app-header"},i.a.createElement("div",{className:"app-header__updates"},"Updates"),i.a.createElement("div",{className:""},i.a.createElement("span",{className:"pr-2"},"Sessions: 34 Minutes"),i.a.createElement("span",{className:"img-container"},i.a.createElement("img",{src:"https://www.alpinewebmedia.com/wp-content/uploads/2018/02/pictures-on-the-web-free-to-use.jpg",width:"30",height:"30",className:"rounded-circle",alt:"user"}))))},P=n(65),Y=n.n(P),G=n(66),Q=n.n(G),V=function(){return i.a.createElement("div",{className:"conv-header"},i.a.createElement("article",{className:"conv-header__options"},i.a.createElement("h4",{style:{marginBottom:0}},"Conversations"),i.a.createElement("div",{className:"search-container centerContent"},i.a.createElement("form",{action:"/action_page.php"},i.a.createElement("input",{type:"text",placeholder:"Quick Search",name:"search"}))),i.a.createElement("div",{className:"conv-header__filter centerContent"},i.a.createElement("img",{src:Y.a,style:{height:15,width:15,marginRight:8}}),i.a.createElement("span",null,"Filter"))),i.a.createElement("div",{className:"conv-header__status"},i.a.createElement("span",null,"Online"),i.a.createElement("img",{src:Q.a,alt:""})))},X=n(67),Z=n.n(X),ee=n(68),te=n.n(ee),ne=n(69),ae=n.n(ne),ie=function(e){var t=e.currentMention;return t?i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{style:{height:52,width:"100%",display:"flex",justifyContent:"flex-end",padding:"8px 20px"}},i.a.createElement("div",{className:"profile-section__close"}," ",i.a.createElement("img",{src:ae.a,alt:"",style:{height:18,width:18}})," ")),i.a.createElement("div",{className:"user-detail-section"},i.a.createElement("div",{style:{display:"flex",height:80,width:80}},i.a.createElement("img",{src:t.userData.profileImage,style:{height:"100%",width:"100%"},className:"rounded-circle",alt:"user"})))),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("h5",{style:{marginBottom:0}},t.userData.mentionFromScreenName),i.a.createElement("p",{style:{color:"limegreen"}},"Online")),i.a.createElement("div",{style:{width:"90%",margin:"0 auto",display:"flex",justifyContent:"space-between"}},i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#cbcbcb",cursor:"pointer",border:"none",width:80,borderRadius:"10rem"}},i.a.createElement("img",{src:Z.a,style:{height:13,width:13,marginRight:7}}),i.a.createElement("span",null,"Call"))),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#cbcbcb",cursor:"pointer",border:"none",width:80,borderRadius:"10rem"}},i.a.createElement("img",{src:te.a,style:{height:15,width:17,marginRight:7}}),i.a.createElement("span",null,"Email"))),i.a.createElement("div",{style:{padding:"30px 10px"}},i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.a.createElement("span",{style:{fontSize:14}},"Room"),i.a.createElement("span",{style:{fontSize:14}},"102")),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.a.createElement("span",{style:{fontSize:14}},"Category"),i.a.createElement("span",{style:{fontSize:14}},"Standard")),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},i.a.createElement("span",{style:{fontSize:14}},"Country"),i.a.createElement("span",{style:{fontSize:14}},"India"))),i.a.createElement("div",{style:{border:"1px solid transparent",borderTopColor:"#cbcbcb",paddingTop:10}},i.a.createElement("h5",null,"Tasks"),t&&t.tasks&&t.tasks.length>0?t.tasks.map((function(e){return i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("input",{checked:e.isCompleted,style:{marginTop:3.5},type:"checkbox",name:"",id:""})," ",i.a.createElement("label",{style:{margin:0,marginLeft:10},htmlFor:""},e.taskText))})):i.a.createElement("div",{className:"centerContent",style:{minHeight:100}},i.a.createElement("p",null,"NO TASKS YET")))):i.a.createElement("h6",{style:{padding:10}},"No User Selected")},re=function(e){var t=e.mention,n=e.currentMention;return i.a.createElement("div",{id:"mention-prev-card",style:{backgroundColor:(null===n||void 0===n?void 0:n.mentionID)===(null===t||void 0===t?void 0:t.mentionID)?"#d1d1d1":"white"}},i.a.createElement("article",{style:{display:"flex"}},i.a.createElement("div",null,i.a.createElement("img",{src:t.userData.profileImage,style:{height:30,width:30,borderRadius:100,boxShadow:"0 0 rgba(0,0,0,0.2)"}})),i.a.createElement("div",{style:{marginLeft:20}},i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.a.createElement("h6",{className:"card-title",style:{marginBottom:0,marginRight:8,fontSize:14}},t.userData.mentionFromScreenName)),i.a.createElement("p",{className:"card-text",style:{fontSize:12,marginTop:2,marginBottom:0}},t.mentionText))))},le=function(e){var t=e.mentions,n=e.setSelectedMention,a=e.isLoading,r=e.currentMention;return i.a.createElement("div",null,t&&t.length>0&&!a?t.map((function(e){return i.a.createElement("div",{key:e.mentionID,style:{width:"100%"},onClick:function(){return n(e.mentionID)}},i.a.createElement(re,{setSelectedMention:n,mention:e,currentMention:r}))})):i.a.createElement("div",{style:{width:"100%",height:"calc(100vh - 146px)",borderRadius:"7px",margin:"2px 0",boxShadow:"0 0 5px rgba(0, 0, 0, 0.1)",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{class:"spinner-border",role:"status"},i.a.createElement("span",{class:"sr-only"},"Loading..."))))};function ce(){var e=Object(E.a)(["\n  mutation setupWebhook{\n    setupWebhook{\n      success\n      message\n    }\n  }\n"]);return ce=function(){return e},e}function se(){var e=Object(E.a)(["\n  mutation addNewMentionTask($mentionId: String! $taskText: String!){\n    addNewMentionTask(mentionId: $mentionId taskText: $taskText) {\n      _id\n      taskText\n      createdAt\n      endDate\n      mentionId\n  }\n}\n"]);return se=function(){return e},e}function oe(){var e=Object(E.a)(["\n  mutation replyToMention($InReplyToStatus:String! $replyText: String $userHandle: String){\n    replyToMention(InReplyToStatus: $InReplyToStatus replyText: $replyText userHandle: $userHandle) {\n    _id\n    mentionID\n    mentionText\n    tweetImages\n    timeStamp\n    in_reply_to_status_id_str\n    tasks{\n      _id\n      taskText\n      createdAt\n      endDate\n      mentionId\n    }\n    userData{\n      twitterUserId\n      mentionFromScreenName\n      description\n     \tprofileImage\n      location\n    }\n    replies{\n      _id\n      mentionID\n      mentionText\n      tweetImages\n      timeStamp\n      in_reply_to_status_id_str\n      tasks{\n        _id\n      }\n      userData{\n        twitterUserId\n        mentionFromScreenName\n        description\n        profileImage\n        location\n      }\n      replies{\n        _id\n      }\n    }\n  }\n}\n"]);return oe=function(){return e},e}var me=n(39),de=me(oe()),ue=me(se()),pe=me(ce()),he=n(70),fe=(n(88),n(71)),ge=n.n(fe),ye=Object(y.a)(Object(v.a)(de,{name:"replyToMention"}))((function(e){var t=e.currentMention,n=e.replyToMention,r=e.handleAddNewTask,l=e.handleAddMentionReply,c=Object(a.useState)(""),s=Object(I.a)(c,2),o=s[0],m=s[1],d=Object(a.useState)(!1),u=Object(I.a)(d,2),p=u[0],h=u[1],f=Object(a.useState)(!1),g=Object(I.a)(f,2),y=g[0],v=g[1],E=Object(a.useRef)(null);return t?i.a.createElement("section",null,i.a.createElement("header",{className:"task-view-area__header"},i.a.createElement("article",{className:"task-view-area__header__info"},i.a.createElement("div",{className:"task-view-area__header__info__profile"},i.a.createElement("div",{className:"task-view-area__header__info__profile__photo"},i.a.createElement("img",{src:t.userData.profileImage,alt:"data"})," "),i.a.createElement("p",{style:{margin:0,fontSize:16}},t.userData.mentionFromScreenName),i.a.createElement("span",{style:{height:8,width:8,borderRadius:15,background:"limegreen",marginLeft:5,marginTop:3.3}})),i.a.createElement("p",{style:{margin:0,fontSize:14}},"Room: 132"),i.a.createElement("p",{style:{margin:0,fontSize:14}},"Oct 1 - Oct 12")),i.a.createElement("button",{onClick:function(){v(!0)},style:{background:"#f7f7f7",outline:"none",border:"none",borderRadius:"10rem",padding:"5px 15px",fontSize:14}},"Create a task")),i.a.createElement("article",{className:"task-view-area__content"},i.a.createElement("div",{className:"task-view-area__content__view"},i.a.createElement("article",{style:{display:"flex",padding:"15px 0"}},i.a.createElement("div",{className:"task-view-area__content__profile"},i.a.createElement("img",{src:t.userData.profileImage,alt:""})," "),i.a.createElement("div",{style:{flex:1}},i.a.createElement("p",{style:{margin:0,fontSize:12}},t.mentionText),i.a.createElement("div",{style:{display:"flex",padding:"10px 0"}},i.a.createElement(he.a,{animation:"zoom",customStyles:{border:"1px solid black"},width:500,visible:y,onClose:function(){v(!1)}},i.a.createElement("div",{style:{flex:1,width:"100%",alignSelf:"center",padding:10,textAlign:"center"}},"Add Task"),i.a.createElement("div",{style:{padding:10}},i.a.createElement("input",{style:{flex:1,padding:"5px 7px",width:"100%",alignItems:"center",outline:"none"},onChange:function(e){return m(e.target.value)}})),i.a.createElement("div",{className:"centerContent"},i.a.createElement("button",{style:{flex:1,alignItems:"center",padding:"5px 10px",margin:"10px 10px 0 10px"},type:"button",className:"btn btn-primary",onClick:function(){r(t.mentionID,o),m(""),v(!1)}},"Add New Task"))),t.tweetImages&&t.tweetImages.length>0?t.tweetImages.map((function(e){return i.a.createElement("div",{className:"task-view-area__content__attachments"},i.a.createElement("img",{src:e,alt:""})," ")})):null)),i.a.createElement("div",{style:{width:60}},i.a.createElement("span",{style:{fontSize:10}},new Date(t.timeStamp).toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")))),function(){if(t&&t.replies&&t.replies.length>0)return t.replies.map((function(e){return console.log("reply",e),i.a.createElement("article",{style:{display:"flex",padding:"15px 0"}},i.a.createElement("div",{className:"task-view-area__content__profile"},i.a.createElement("img",{src:e.userData.profileImage,alt:""})," "),i.a.createElement("div",{style:{flex:1}},i.a.createElement("p",{style:{margin:0,fontSize:12}},e.mentionText),i.a.createElement("div",{style:{display:"flex",padding:"10px 0"}},e.tweetImages&&e.tweetImages.length>0?e.tweetImages.map((function(e){return i.a.createElement("div",{className:"task-view-area__content__attachments"},i.a.createElement("img",{src:e,alt:""})," ")})):null)),i.a.createElement("div",{style:{width:60}},i.a.createElement("span",{style:{fontSize:10}},new Date(t.timeStamp).toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1"))))}))}()),i.a.createElement("article",{className:"task-view-area__content__input"},i.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",position:"relative"}},i.a.createElement("div",{className:"task-view-area__header__info__profile__photo",style:{marginBottom:3}},i.a.createElement("img",{src:t.userData.profileImage,alt:"data"})," "),i.a.createElement("div",{ref:E,style:{flex:1,border:"1.5px solid #cbcbcb",borderRadius:7,outline:"none",padding:"4px 50px 4px 10px"},onKeyDown:function(e){return 13===e.keyCode?function(e){e.preventDefault(),h(!0),E.current&&""!==E.current.innerText&&(console.log(E.current.innerText,"here is the value"),n({variables:{InReplyToStatus:t.mentionID,replyText:E.current.innerText,userHandle:t.userData.mentionFromScreenName}}).then((function(e){E.current.innerText="",l(e.data.replyToMention),h(!0)})).catch((function(e){console.log(e)})))}(e):null},contentEditable:!0},p&&i.a.createElement("div",{class:"spinner-border",role:"status"},i.a.createElement("span",{class:"sr-only"},"Loading..."))),i.a.createElement("div",{className:"centerContent task-view-area__content__input__attachment"},i.a.createElement("img",{src:ge.a,style:{height:16,width:16}})))))):i.a.createElement("div",{style:{flex:1,width:"100%",textAlign:"center",padding:10}},"NO MENTIONS YET")})),ve=function(e){var t=e.mentions,n=e.isLoading,r=e.handleAddNewTask,l=e.handleAddMentionReply,c=Object(a.useState)(null),s=Object(I.a)(c,2),o=s[0],m=s[1];return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-3 mentionsSection"},i.a.createElement(le,{isLoading:n,setSelectedMention:function(e){var n=t.find((function(t){return t.mentionID==e}));m(n)},mentions:t,currentMention:o})),i.a.createElement("section",{className:"col-9 tweet-view"},i.a.createElement("article",{className:"row tweet-view-wrap"},i.a.createElement("div",{className:"col-9 tweet-view-area",style:{marginBottom:0,paddingBottom:0}},i.a.createElement(ye,{handleAddMentionReply:l,handleAddNewTask:r,currentMention:o})),i.a.createElement("div",{className:"col-3"},i.a.createElement(ie,{currentMention:o})))))};function Ee(){var e=Object(E.a)(["\n  subscription{\n  newMention{\n    _id\n    mentionID\n    mentionText\n    tweetImages\n    timeStamp\n    in_reply_to_status_id_str\n    tasks{\n      _id\n    }\n    userData{\n      twitterUserId\n      mentionFromScreenName\n      description\n      profileImage\n      location\n    }\n    replies{\n      _id\n    }\n  }\n}"]);return Ee=function(){return e},e}var we=n(39),be=(n(31).useSubscription,we(Ee())),xe=void 0,ke=Object(y.a)(Object(v.a)(_,{name:"fetchMentions"}),Object(v.a)(ue,{name:"addNewMentionTask"}),Object(v.a)(be,{name:"newMention"}))((function(e){var t=e.fetchMentions,n=e.addNewMentionTask,r=e.newMention,l=Object(a.useState)([]),c=Object(I.a)(l,2),s=c[0],o=c[1],m=Object(a.useState)(!0),d=Object(I.a)(m,2),u=d[0],p=d[1];Object(a.useEffect)((function(){t&&!t.loading&&t.fetchCurrentMentions&&t.fetchCurrentMentions.length>0&&(p(!1),o(t.fetchCurrentMentions.reverse()))}),[t]),Object(a.useEffect)((function(){if(r&&!r.loading&&r.newMention){var e=Object(N.a)(s),t=e.findIndex((function(e){return e.mentionID===r.newMention[0].mentionID}));-1===t?e.unshift(r.newMention[0]):e[t]=r.newMention[0],o(e)}}),[r]);return i.a.createElement("div",{className:"container-fluid pl-0 pr-0"},i.a.createElement("div",{style:{display:"flex",minWidth:938}},i.a.createElement("div",{style:{width:60}},i.a.createElement(K,{handleLogoutClick:function(){window.open("https://richpaneldash.herokuapp.com/auth/logout","_self"),xe.props.handleNotAuthenticated()}})),i.a.createElement("div",{style:{width:"calc(100% - 60px)"}},i.a.createElement("div",{className:"",style:{width:"94%",margin:"0 auto"}},i.a.createElement(J,null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement(V,null))),i.a.createElement(ve,{handleAddMentionReply:function(e){var t=Object(N.a)(s);console.log("MENTIONS",s);var n=s.findIndex((function(t){return t.mentionID===e.in_reply_to_status_id_str}));n>=0&&t[n].replies.push(e),o(t)},handleAddNewTask:function(e,t){console.log("mentionID",e,"taskText",t),t&&n({variables:{mentionId:e,taskText:t}}).then((function(t){var n=Object(N.a)(s),a=n.find((function(t){return t.mentionID===e}));a.tasks.push(t.data.addNewMentionTask);var i=n.filter((function(t){return t.mentionID!==e}));i.push(a),o(i)}))},isLoading:u,mentions:s})))))})),_e=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={user:{},error:null,authenticated:!1},e.handleNotAuthenticated=function(){e.setState({authenticated:!1})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://richpaneldash.herokuapp.com/auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(t){e.props.setUpWebHook(),localStorage.setItem("authToken",t.user.token),localStorage.setItem("authTokenSecret",t.user.tokenSecret),localStorage.setItem("authTokenSecret",t.user.tokenSecret),e.setState({authenticated:!0,user:t.user})})).catch((function(t){e.setState({authenticated:!1,error:"Failed to authenticate user"})}))}},{key:"render",value:function(){this.props.data;var e=this.state.authenticated;return i.a.createElement("div",null,i.a.createElement("div",null,e?i.a.createElement(ke,null):i.a.createElement(g,{authenticated:e,handleNotAuthenticated:this.handleNotAuthenticated})))}}]),n}(a.Component),Ne=Object(y.a)(Object(v.a)(k),Object(v.a)(pe,{name:"setUpWebHook"}))(_e),Ie=n(42),je=n(22),Se=function(){return i.a.createElement(Ie.a,null,i.a.createElement(je.c,null,i.a.createElement(je.a,{exact:!0,path:"/"},i.a.createElement(Ne,null))))},Te=n(15),Ce=n(77),Oe=n(79),Me=n(76),De=n(78),Ae=n(3),Re=n(12),ze=n(6),Le=Object(Me.createUploadLink)({uri:"https://richpaneldash.herokuapp.com/graphql",credentials:"same-origin"}),Fe=new Ce.a({uri:"ws://richpaneldash.herokuapp.com/graphql",options:{reconnectionAttempts:50,lazy:!0,timeout:2e4}}),$e=Object(De.a)(function(){var e=Object(h.a)(u.a.mark((function e(t,n){var a,i,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.headers,e.next=3,localStorage.getItem("authToken");case 3:return i=e.sent,e.next=6,localStorage.getItem("authTokenSecret");case 6:return r=e.sent,e.abrupt("return",{headers:Object(p.a)(Object(p.a)({},a),{},{authToken:i||null,authTokenSecret:r||null})});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Be=Object(Re.split)((function(e){var t=e.query,n=Object(Ae.l)(t),a=n.kind,i=n.operation;return"OperationDefinition"===a&&"subscription"===i}),Fe,Le),Ue=new Te.c({link:Re.ApolloLink.from([$e,Be]),cache:new Oe.a,fetchOptions:{credentials:"include"},onError:function(e){var t=e.networkError;t&&t.statusCode}}),We=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(ze.b,{client:Ue},i.a.createElement(Se,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(104);l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,n){},56:function(e,t,n){e.exports=n.p+"static/media/1.1f2fd027.jpg"},57:function(e,t,n){e.exports=n.p+"static/media/ruby.8e4e47c6.svg"},58:function(e,t,n){e.exports=n.p+"static/media/home.6f087f95.svg"},59:function(e,t,n){e.exports=n.p+"static/media/men.3bbacb7e.svg"},60:function(e,t,n){e.exports=n.p+"static/media/communications.03527c49.svg"},61:function(e,t,n){e.exports=n.p+"static/media/credit-card.9972045f.svg"},62:function(e,t,n){e.exports=n.p+"static/media/store.96e48f55.svg"},63:function(e,t,n){e.exports=n.p+"static/media/settings.c7c83d36.svg"},64:function(e,t,n){e.exports=n.p+"static/media/clock.06412bd8.svg"},65:function(e,t,n){e.exports=n.p+"static/media/filter.6f56c8a0.svg"},66:function(e,t,n){e.exports=n.p+"static/media/bottomArrow.11272da6.svg"},67:function(e,t,n){e.exports=n.p+"static/media/phoneIcon.0f039351.svg"},68:function(e,t,n){e.exports=n.p+"static/media/mail.84c21e6f.svg"},69:function(e,t,n){e.exports=n.p+"static/media/close.bbad8f02.svg"},71:function(e,t,n){e.exports=n.p+"static/media/attachment.d8c888f3.svg"},80:function(e,t,n){e.exports=n(105)}},[[80,1,2]]]);
//# sourceMappingURL=main.f0f98557.chunk.js.map